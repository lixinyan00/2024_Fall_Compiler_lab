# Lab1 测试脚本

## 使用方法

```bash
python3 test.py [-p parser路径] [-g 组号] [-a] [-w] [-t 时限] [-m]
```

## 参数说明

- `-p parser路径`: 字面意思, 如果在同一目录记得加 `./` , 注意加 `+x` 权限, 默认为 `./parser`
- `-g 组号`: 字面意思, 默认为 0 组 (即计拔班)
- `-a`: 是否测试 advance 样例, 在测试 advance 样例时只比对行号, 注意 2023 年起教学组不再使用 advance 样例进行评测, 请自行权衡是否测试
- `-w`: 测试失败时是否停下来
- `-t`: 单个样例运行时间上限, 默认为 1.0 秒
- `-m`: 是否以宽松模式判定 advance 样例 (即允许多报)

## 样例的结果格式说明

normal 样例的结果位于同名 txt 文件, 由本人从说明 pdf 转写

对于空文件, 代表无语法错误, 语法树参加同名 out 文件

对于非空文件, 每行代表一个错误, 每行用空格隔开的要报且只能报一种, 用逗号隔开的要同时报出, 空格开头的行代表该行的错误可报可不报

如果需要自己新增, 请遵守按行递增, A 先 B 后的顺序, 否则可能因为顺序不当造成测试失败

假设下面是一个结果 txt (# 后的内容为说明, 不能位于文件中)

```
A1          # 要报出 A1 这个错误
A2 B2       # 要报出 A2 和 B2 中的一个, 且只能报一个
A3 B3 A3,B3 # 要报出 A3 或 B3 或 A3+B3
 A4         # A4 可报可不报
```

即上面的可以接受下面 12 种错误报法

```
A1 A2 A3
A1 A2 A3 A4
A1 A2 B3
A1 A2 B3 A4
A1 A2 A3 B3
A1 A2 A3 B3 A4
A1 B2 A3
A1 B2 A3 A4
A1 B2 B3
A1 B2 B3 A4
A1 B2 A3 B3
A1 B2 A3 B3 A4
```

advance 样例的结果位于同名 output 文件, 由官方提供, 注意语法树格式与 2023 年版不同

## 其他说明

pdf 文件夹中包含三年的测试说明, 由于本人在转写结果 txt 时可能有纰漏, 有疑问可以参见 pdf

lost 文件夹中包含一些本人没有转写结果 txt 或因为其他原因没有加入测试脚本的样例, 有兴趣可以自行添加
